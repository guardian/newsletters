stacks: [frontend]
regions: [eu-west-1]

deployments:
  cloudformation:
    type: cloud-formation
    app: newsletters-api
    parameters:
      cloudFormationStackName: newsletters-api
      templatePath: cloudformation.yaml
      cloudFormationStackByTags: false
  lambda:
    type: aws-lambda
    dependencies: [cloudformation]
    parameters:
      bucket: aws-frontend-artifacts
      fileName: newsletters-api.zip
      functionNames: [-newsletters-api-]
