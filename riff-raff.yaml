stacks: [playground]
regions: [eu-west-1]

deployments:
  cloudformation:
    type: cloud-formation
    app: newsletters
    parameters:
      cloudFormationStackName: newsletters
      templatePath: cloudformation.yaml
      cloudFormationStackByTags: false
  lambda:
    type: aws-lambda
    dependencies: [cloudformation]
    parameters:
      prefixStack: true
      bucket: playground-dist
      fileName: lambda.zip
      functionNames: [-newsletters-]
